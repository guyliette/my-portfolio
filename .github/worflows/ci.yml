name: CI


on:
  
  push:
    
    branches: [ "main" ]


  pull_request:
   
   
    branches: [ "main" ]


jobs:
  
  build:

    runs-on: ubuntu-latest


    steps:
     
      - uses: actions/checkout@v4      
      - name: Build image
        run: docker build -t guyliette2023/portfolio .

      
      - name: push image
        run: |
         docker login -u guyliette2023 -p ${{secrets.REGISTRY_PASS}}
         docker push guyliette2023/portfolio